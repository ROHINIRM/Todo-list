{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Vaishnavi_S_Babu/todoapp_crud/todoapp/src/Components/Edit.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport DateTimePicker from \"react-datetime-picker\";\nimport \"react-datetime-picker/dist/DateTimePicker.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Edit() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  // const [datetime, setDateTime] = useState(null);\n\n  const [values, setValues] = useState({\n    title: \"\",\n    datetime: new Date(),\n    status: \"\"\n  });\n  const [currentDateTime, setCurrentDateTime] = useState(new Date().getTime());\n\n  //current timestamp \n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = new Date();\n      const currenttimestamp = now.getTime();\n      setCurrentDateTime(currenttimestamp);\n      console.log(\"current timestamp\", currenttimestamp);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n  useEffect(() => {\n    const storedData = JSON.parse(localStorage.getItem(\"form\")) || [];\n    const task = storedData[id];\n    if (task) {\n      setValues({\n        title: task.title,\n        datetime: new Date(task.datetime),\n        status: task.status\n      });\n    }\n  }, [id]);\n  const Change = e => {\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleDateChange = datetime => {\n    setValues({\n      ...values,\n      datetime,\n      status: datetime.getTime() <= currentDateTime ? \"Completed\" : \"Pending\"\n    });\n  };\n  const Submit = async e => {\n    e.preventDefault();\n    try {\n      const storedData = JSON.parse(localStorage.getItem(\"form\")) || [];\n      if (id >= 0 && id < storedData.length) {\n        storedData[id] = values;\n        localStorage.setItem(\"form\", JSON.stringify(storedData));\n        alert(\"Edit Success\");\n        navigate(\"/\");\n      } else {\n        alert(\"Error: Task not found\");\n      }\n    } catch (error) {\n      alert(\"Error\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"head\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-dark bg-dark\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"navbar-text\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"mb-4\",\n              children: \"Todo \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form1\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: Submit,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Edit Form\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Title : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Title\",\n            className: \"form-control\",\n            onChange: Change,\n            name: \"title\",\n            value: values.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), \" \", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \" \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              children: \"Date and Time: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(DateTimePicker, {\n              format: \"yyyy-MM-dd hh:mm a\",\n              name: \"datetime\",\n              onChange: handleDateChange,\n              value: values.datetime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"Submit\",\n            className: \"btn btn-success\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(Edit, \"Wp0ghYYI7EDkH0QE2l/vMgof1mY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = Edit;\nexport default Edit;\nvar _c;\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"names":["React","useEffect","useState","useParams","DateTimePicker","useNavigate","jsxDEV","_jsxDEV","Edit","_s","id","navigate","values","setValues","title","datetime","Date","status","currentDateTime","setCurrentDateTime","getTime","interval","setInterval","now","currenttimestamp","console","log","clearInterval","storedData","JSON","parse","localStorage","getItem","task","Change","e","target","name","value","handleDateChange","Submit","preventDefault","length","setItem","stringify","alert","error","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","format","_c","$RefreshReg$"],"sources":["/Users/apple/Vaishnavi_S_Babu/todoapp_crud/todoapp/src/Components/Edit.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport DateTimePicker from \"react-datetime-picker\";\nimport \"react-datetime-picker/dist/DateTimePicker.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction Edit() {\n\n  const { id } = useParams();\n  const navigate = useNavigate();\n  // const [datetime, setDateTime] = useState(null);\n\n  const [values, setValues] = useState({\n    title: \"\",\n    datetime: new Date(),\n    status: \"\"\n  });\n\n  const [currentDateTime, setCurrentDateTime] = useState(new Date().getTime());\n\n  //current timestamp \n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = new Date();\n      const currenttimestamp = now.getTime();\n      setCurrentDateTime(currenttimestamp);\n      console.log(\"current timestamp\", currenttimestamp);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n\n    const storedData = JSON.parse(localStorage.getItem(\"form\")) || [];\n    const task = storedData[id];\n    if (task) {\n      setValues({\n        title: task.title,\n        datetime: new Date(task.datetime),\n        status: task.status\n      });\n    }\n  }, [id]);\n\n  const Change = (e) => {\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const handleDateChange = (datetime) => {\n    setValues({\n      ...values,\n      datetime,\n      status: datetime.getTime() <= currentDateTime ? \"Completed\" : \"Pending\",\n    });\n\n  };\n\n  const Submit = async (e) => {\n    e.preventDefault();\n    try {\n      const storedData = JSON.parse(localStorage.getItem(\"form\")) || [];\n      if (id >= 0 && id < storedData.length) {\n        storedData[id] = values;\n        localStorage.setItem(\"form\", JSON.stringify(storedData));\n        alert(\"Edit Success\");\n        navigate(\"/\");\n      } else {\n        alert(\"Error: Task not found\");\n      }\n    } catch (error) {\n      alert(\"Error\");\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"head\">\n        <nav className=\"navbar navbar-dark bg-dark\">\n          <div className=\"container-fluid\">\n            <span className=\"navbar-text\">\n              <h2 className=\"mb-4\">Todo </h2>\n            </span>\n          </div>\n        </nav>\n        <div className=\"form1\">\n          <form onSubmit={Submit}>\n            <h4>Edit Form</h4>\n            <hr></hr>\n            <label>Title : </label>\n            <input\n              type=\"text\"\n              placeholder=\"Enter Title\"\n              className=\"form-control\"\n              onChange={Change}\n              name=\"title\"\n              value={values.title}\n            />{\" \"} <br></br>\n            <span> </span>\n            <div className=\"form-group\">\n              <h6>Date and Time: </h6>\n              <DateTimePicker\n                format=\"yyyy-MM-dd hh:mm a\"\n                name=\"datetime\"\n                onChange={handleDateChange}\n                value={values.datetime}\n              />\n            </div><br></br>\n            <button type=\"Submit\" className=\"btn btn-success\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Edit;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}